<div class="student-layout">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo">myTEACHER</div>

    <nav>
      <a class="nav-item active">Dashboard</a>
      <a class="nav-item" routerLink="/student/profile">Mis Clases</a>
      <a class="nav-item">Mensajes</a>
    </nav>
  </aside>

  <!-- Contenido principal -->
  <main class="main">
    <header class="topbar">
      <input type="search" placeholder="Search..." class="search-input">
      <div class="user-icon">
        {{ auth.currentUser?.name | slice:0:1 }}
      </div>
    </header>

    <section class="dashboard-content">
      <!-- Filtros -->
      <div class="filters">
        <h3>Filtra tu bÃºsqueda</h3>

        <label>Materia</label>
        <select [(ngModel)]="filtroMateria">
          <option value="Todas">Todas</option>
          <option value="MatemÃ¡ticas">MatemÃ¡ticas</option>
          <option value="FÃ­sica">FÃ­sica</option>
          <!-- ... -->
        </select>

        <label>Nivel Educativo</label>
        <select [(ngModel)]="filtroNivel">
          <option value="Todos">Todos</option>
          <option value="Bachillerato">Bachillerato</option>
          <option value="Universidad">Universidad</option>
        </select>

        <label>Modalidad</label>
        <div class="mode-row">
          <label><input type="checkbox" [(ngModel)]="filtroOnline"> Online</label>
          <label><input type="checkbox" [(ngModel)]="filtroPresencial"> Presencial</label>
        </div>

        <button class="btn-primary">Aplicar filtros</button>
        <button class="btn-secondary">Limpiar</button>
      </div>

      <!-- Lista de tutores/ofertas -->
      <div class="offers">
        <h2>Tutores Disponibles para ti</h2>
        <p>Encontramos {{ ofertasFiltradas.length }} tutores con ofertas activas.</p>

        <div class="offer-grid">
          <div class="offer-card" *ngFor="let o of ofertasFiltradas">
            <div class="avatar"></div>
            <h4>{{ o.tutorName }}</h4>
            <p class="subject">{{ o.subject }}</p>

            <div class="tags">
              <span class="tag">{{ o.mode }}</span>
              <span class="tag">{{ o.status }}</span>
            </div>

            <div class="price-row">
              <div>\${{ o.pricePerHour }}/hora Â· {{ o.hours }}h</div>
              <button class="btn-small" (click)="reservar(o)" [disabled]="o.status !== 'Disponible'">
                {{ o.status === 'Disponible' ? 'Reservar' : o.status }}
              </button>
            </div>
          </div>

          <div *ngIf="ofertasFiltradas.length === 0" class="empty">
            No hay ofertas disponibles aÃºn.
          </div>
        </div>
      </div>
    </section>

    <!-- Chatbot flotante -->
    <button class="chat-fab" (click)="toggleChat()">
      ðŸ’¬
    </button>

    <div class="chat-panel" *ngIf="showChat">
      <div class="chat-header">
        <div>
          <strong>Asistente Virtual</strong>
          <div class="status">En lÃ­nea</div>
        </div>
        <button (click)="toggleChat()">âœ•</button>
      </div>

      <div class="chat-body">
        <div class="msg bot">
          Â¡Hola! Soy tu asistente virtual. Â¿QuÃ© materia necesitas hoy?
        </div>
        <div class="msg user">
          Estoy buscando un tutor de matemÃ¡ticas para bachillerato.
        </div>
        <div class="msg bot">
          Excelente. Usa los filtros de la izquierda para ajustar modalidad y precio.
        </div>
      </div>

      <div class="chat-input">
        <input type="text" placeholder="Escribe un mensaje...">
        <button>âž¤</button>
      </div>
    </div>
  </main>
</div>
